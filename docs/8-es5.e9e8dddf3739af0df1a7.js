!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Bq4Z:function(t,r,i){"use strict";i.r(r),i.d(r,"SpreadsheetChangerModule",(function(){return O}));var s,a=i("ofXK"),o=i("tyNb"),c=i("3Pt+"),b=i("fXoL"),d=i("d3iT"),u=i("XJ2P"),p=["*"],h=((s=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b.Cb({type:s,selectors:[["app-ball-guy-bubble"]],ngContentSelectors:p,decls:2,vars:0,consts:[[1,"speech-bubble"]],template:function(e,t){1&e&&(b.ac(),b.Nb(0,"div",0),b.Zb(1),b.Mb())},styles:['[_nghost-%COMP%]{padding-left:115px;background:url(ball-guy-face.f139ac5d7ceb38f68015.png) 0 0 no-repeat;min-height:110px;display:block}[_nghost-%COMP%]   .speech-bubble[_ngcontent-%COMP%]{display:block;width:100%;min-height:80px;padding:12px;border-radius:8px;background:#fff;-webkit-filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}[_nghost-%COMP%]   .speech-bubble[_ngcontent-%COMP%]:after{content:"";border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #fff;position:absolute;left:-10px;top:40px}']}),s);function l(e,t){if(1&e){var n=b.Ob();b.Nb(0,"li",10),b.Ub("click",(function(){b.hc(n);var e=t.$implicit;return b.Wb().fromHistory(e.id)})),b.mc(1),b.Mb()}if(2&e){var r=t.$implicit;b.xb(1),b.oc(" ",r.title," ")}}function f(e,t){1&e&&(b.Nb(0,"div"),b.mc(1," Contains valuables. "),b.Mb())}function g(e,t){1&e&&(b.Nb(0,"div"),b.mc(1," Contains breedables. "),b.Mb())}function v(e,t){if(1&e){var n=b.Ob();b.Lb(0),b.Nb(1,"div",2),b.mc(2),b.Mb(),b.kc(3,f,2,0,"div",11),b.kc(4,g,2,0,"div",11),b.Nb(5,"div",12),b.Nb(6,"button",13),b.Ub("click",(function(){b.hc(n);var e=t.$implicit;return b.Wb().saveSpreadsheet(e)})),b.mc(7,"Save as current spreadsheet"),b.Mb(),b.Mb(),b.Kb()}if(2&e){var r=t.$implicit;b.xb(2),b.nc(r.title),b.xb(1),b.bc("ngIf",r.hasValuables),b.xb(1),b.bc("ngIf",r.hasBreedables)}}function m(e,t){1&e&&(b.Nb(0,"div"),b.Nb(1,"app-ball-guy-bubble"),b.mc(2," Enter a spreadsheet Id to load a spreadsheet "),b.Mb(),b.Mb())}function y(e,t){1&e&&(b.Nb(0,"div"),b.mc(1," Load spreadsheet "),b.Mb())}function x(e,t){if(1&e&&(b.kc(0,m,3,0,"div",11),b.kc(1,y,2,0,"div",11)),2&e){var n=b.Wb();b.bc("ngIf",!n.hasRequested),b.xb(1),b.bc("ngIf",n.hasRequested)}}function k(e,t){1&e&&b.mc(0),2&e&&b.oc("Error: ",t.error.message,"")}var w,M,S,N=[{path:"",component:(w=function(){function t(n){e(this,t),this.spreadsheetFacade=n,this.classes="view",this.hasRequested=!1}return n(t,[{key:"ngOnInit",value:function(){this.searchForm=new c.e({search:new c.b("")}),this.isLoading$=this.spreadsheetFacade.isLoading$(),this.spreadsheetHistory$=this.spreadsheetFacade.getSpreadsheetHistory$()}},{key:"submitSearch",value:function(){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.searchSpreadsheet(this.searchForm.controls.search.value)}},{key:"saveSpreadsheet",value:function(e){this.spreadsheetFacade.updateCurrentSpreadsheet(e)}},{key:"fromHistory",value:function(e){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.loadSpreadsheet(e)}},{key:"trackBy",value:function(e,t){return t.id}}]),t}(),w.\u0275fac=function(e){return new(e||w)(b.Ib(d.a))},w.\u0275cmp=b.Cb({type:w,selectors:[["app-index"]],hostVars:2,hostBindings:function(e,t){2&e&&b.zb(t.classes)},decls:18,vars:8,consts:[[1,"view-header","full-width"],[1,"view-sidebar"],[1,"view-subheader"],[3,"formGroup","submit"],["id","search","formControlName","search","placeholder","Look up spreadsheet by id"],["class","history-entry",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"view-content"],[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny","ngxSubscribeOnError"],["pendingTemplate",""],["errorTemplate",""],[1,"history-entry",3,"click"],[4,"ngIf"],[1,"button-row"],[1,"save-button",3,"click"]],template:function(e,t){if(1&e&&(b.Nb(0,"header",0),b.mc(1,"Change spreadsheet"),b.Mb(),b.Nb(2,"aside",1),b.Nb(3,"div",2),b.mc(4,"Spreadsheet search"),b.Mb(),b.Nb(5,"form",3),b.Ub("submit",(function(){return t.submitSearch()})),b.Jb(6,"input",4),b.Mb(),b.Nb(7,"div",2),b.mc(8," search history "),b.Mb(),b.Nb(9,"ul"),b.kc(10,l,2,1,"li",5),b.Xb(11,"async"),b.Mb(),b.Mb(),b.Nb(12,"div",6),b.kc(13,v,8,3,"ng-container",7),b.Mb(),b.kc(14,x,2,2,"ng-template",null,8,b.lc),b.kc(16,k,1,1,"ng-template",null,9,b.lc)),2&e){var n=b.gc(15),r=b.gc(17);b.xb(5),b.bc("formGroup",t.searchForm),b.xb(5),b.bc("ngForOf",b.Yb(11,6,t.spreadsheetHistory$))("ngForTrackBy",t.trackBy),b.xb(3),b.bc("ngxSubscribeOf",t.loadedSpreadsheet$)("ngxSubscribeBeforeAny",n)("ngxSubscribeOnError",r)}},directives:[c.k,c.i,c.f,c.a,c.h,c.d,a.j,u.d,a.k,h],pipes:[a.b],styles:["#search,.history-entry,.save-button{font-size:90%;font-weight:700;letter-spacing:-1px;line-height:32px;color:#000;border-radius:42px;box-shadow:0 3px 5px rgba(0,0,0,.4);align-items:center;width:100%;overflow:hidden;border:none;outline:none;padding:0 8px;background:#fff}.history-entry{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:16px}.save-button{width:auto}"],encapsulation:2}),w)}],C=((M=function t(){e(this,t)}).\u0275mod=b.Gb({type:M}),M.\u0275inj=b.Fb({factory:function(e){return new(e||M)},imports:[[o.f.forChild(N)],o.f]}),M),F=i("PCNd"),O=((S=function t(){e(this,t)}).\u0275mod=b.Gb({type:S}),S.\u0275inj=b.Fb({factory:function(e){return new(e||S)},imports:[[a.c,C,c.j,u.c,F.a]]}),S)}}])}();