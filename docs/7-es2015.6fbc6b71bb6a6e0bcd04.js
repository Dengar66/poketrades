(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Bq4Z:function(e,t,s){"use strict";s.r(t),s.d(t,"SpreadsheetChangerModule",(function(){return O}));var r=s("ofXK"),n=s("tyNb"),o=s("3Pt+"),i=s("fXoL"),c=s("d3iT"),a=s("XJ2P");const b=["*"];let d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["app-ball-guy-bubble"]],ngContentSelectors:b,decls:2,vars:0,consts:[[1,"speech-bubble"]],template:function(e,t){1&e&&(i.dc(),i.Pb(0,"div",0),i.cc(1),i.Ob())},styles:['[_nghost-%COMP%]{padding-left:115px;background:url(ball-guy-face.f139ac5d7ceb38f68015.png) 0 0 no-repeat;min-height:110px;display:block}[_nghost-%COMP%]   .speech-bubble[_ngcontent-%COMP%]{display:block;width:100%;min-height:80px;padding:12px;border-radius:8px;background:#fff;-webkit-filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}[_nghost-%COMP%]   .speech-bubble[_ngcontent-%COMP%]:after{content:"";border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #fff;position:absolute;left:-10px;top:40px}']}),e})();function p(e,t){if(1&e){const e=i.Qb();i.Pb(0,"li",10),i.Xb("click",(function(){i.jc(e);const s=t.$implicit;return i.Zb().fromHistory(s.id)})),i.oc(1),i.Ob()}if(2&e){const e=t.$implicit;i.zb(1),i.qc(" ",e.title," ")}}function h(e,t){1&e&&(i.Pb(0,"div"),i.oc(1," Contains valuables. "),i.Ob())}function l(e,t){1&e&&(i.Pb(0,"div"),i.oc(1," Contains breedables. "),i.Ob())}function u(e,t){if(1&e){const e=i.Qb();i.Nb(0),i.Pb(1,"div",2),i.oc(2),i.Ob(),i.mc(3,h,2,0,"div",11),i.mc(4,l,2,0,"div",11),i.Pb(5,"div",12),i.Pb(6,"button",13),i.Xb("click",(function(){i.jc(e);const s=t.$implicit;return i.Zb().saveSpreadsheet(s)})),i.oc(7,"Save as current spreadsheet"),i.Ob(),i.Ob(),i.Mb()}if(2&e){const e=t.$implicit;i.zb(2),i.pc(e.title),i.zb(1),i.ec("ngIf",e.hasValuables),i.zb(1),i.ec("ngIf",e.hasBreedables)}}function f(e,t){1&e&&(i.Pb(0,"div"),i.Pb(1,"app-ball-guy-bubble"),i.oc(2," Enter a spreadsheet Id to load a spreadsheet "),i.Ob(),i.Ob())}function g(e,t){1&e&&(i.Pb(0,"div"),i.oc(1," Load spreadsheet "),i.Ob())}function m(e,t){if(1&e&&(i.mc(0,f,3,0,"div",11),i.mc(1,g,2,0,"div",11)),2&e){const e=i.Zb();i.ec("ngIf",!e.hasRequested),i.zb(1),i.ec("ngIf",e.hasRequested)}}function y(e,t){1&e&&i.oc(0),2&e&&i.qc("Error: ",t.error.message,"")}const v=[{path:"",component:(()=>{class e{constructor(e){this.spreadsheetFacade=e,this.classes="view",this.hasRequested=!1}ngOnInit(){this.searchForm=new o.e({search:new o.b("")}),this.isLoading$=this.spreadsheetFacade.isLoading$(),this.spreadsheetHistory$=this.spreadsheetFacade.getSpreadsheetHistory$()}submitSearch(){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.searchSpreadsheet(this.searchForm.controls.search.value)}saveSpreadsheet(e){this.spreadsheetFacade.updateCurrentSpreadsheet(e)}fromHistory(e){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.loadSpreadsheet(e)}trackBy(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(c.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-index"]],hostVars:2,hostBindings:function(e,t){2&e&&i.Bb(t.classes)},decls:18,vars:8,consts:[[1,"view-header","full-width"],[1,"view-sidebar"],[1,"view-subheader"],[3,"formGroup","submit"],["id","search","formControlName","search","placeholder","Look up spreadsheet by id"],["class","history-entry",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"view-content"],[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny","ngxSubscribeOnError"],["pendingTemplate",""],["errorTemplate",""],[1,"history-entry",3,"click"],[4,"ngIf"],[1,"button-row"],[1,"save-button",3,"click"]],template:function(e,t){if(1&e&&(i.Pb(0,"header",0),i.oc(1,"Change spreadsheet"),i.Ob(),i.Pb(2,"aside",1),i.Pb(3,"div",2),i.oc(4,"Spreadsheet search"),i.Ob(),i.Pb(5,"form",3),i.Xb("submit",(function(){return t.submitSearch()})),i.Lb(6,"input",4),i.Ob(),i.Pb(7,"div",2),i.oc(8," search history "),i.Ob(),i.Pb(9,"ul"),i.mc(10,p,2,1,"li",5),i.ac(11,"async"),i.Ob(),i.Ob(),i.Pb(12,"div",6),i.mc(13,u,8,3,"ng-container",7),i.Ob(),i.mc(14,m,2,2,"ng-template",null,8,i.nc),i.mc(16,y,1,1,"ng-template",null,9,i.nc)),2&e){const e=i.ic(15),s=i.ic(17);i.zb(5),i.ec("formGroup",t.searchForm),i.zb(5),i.ec("ngForOf",i.bc(11,6,t.spreadsheetHistory$))("ngForTrackBy",t.trackBy),i.zb(3),i.ec("ngxSubscribeOf",t.loadedSpreadsheet$)("ngxSubscribeBeforeAny",e)("ngxSubscribeOnError",s)}},directives:[o.k,o.i,o.f,o.a,o.h,o.d,r.i,a.c,r.j,d],pipes:[r.b],styles:["#search,.history-entry,.save-button{font-size:90%;font-weight:700;letter-spacing:-1px;line-height:32px;color:#000;border-radius:42px;box-shadow:0 3px 5px rgba(0,0,0,.4);align-items:center;width:100%;overflow:hidden;border:none;outline:none;padding:0 8px;background:#fff}.history-entry{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:16px}.save-button{width:auto}"],encapsulation:2}),e})()}];let w=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(v)],n.f]}),e})();var x=s("PCNd");let O=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},imports:[[r.c,w,o.j,a.b,x.a]]}),e})()}}]);