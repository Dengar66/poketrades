<header class="view-header full-width">Change spreadsheet</header>
<aside class="view-sidebar">
  <div class="view-subheader">Spreadsheet search</div>
  <form (submit)="submitSearch()" [formGroup]="searchForm">
    <input id="search" formControlName="search" placeholder="Look up spreadsheet by id">
  </form>

  <div class="view-subheader">
    search history
  </div>
  <ul>
    <li class="history-entry" *ngFor="let historyEntry of spreadsheetHistory$ | async; trackBy: trackBy"
        (click)="fromHistory(historyEntry.id)">
      {{historyEntry.title}}
    </li>
  </ul>
</aside>
<div class="view-content">
  <ng-container
    *ngxSubscribe="let loadedSpreadsheet of loadedSpreadsheet$; beforeAny pendingTemplate onError errorTemplate">
    {{loadedSpreadsheet.title}}
    <button (click)="saveSpreadsheet(loadedSpreadsheet)">Save</button>
  </ng-container>
</div>


<ng-template #pendingTemplate>
  <div *ngIf="!hasRequested">
    Enter a spreadsheet Id to load a spreadsheet
  </div>
  <div *ngIf="hasRequested">
    Load spreadsheet
  </div>
</ng-template>
<ng-template #errorTemplate let-error="error">Error: {{ error.message }}</ng-template>


