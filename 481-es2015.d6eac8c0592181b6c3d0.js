"use strict";(self.webpackChunkpoketrades=self.webpackChunkpoketrades||[]).push([[481],{2481:function(e,t,i){i.r(t),i.d(t,{BreedableModule:function(){return H}});var n=i(8583),r=i(3423),s=i(7716),a=i(6250),o=i(1969),l=i(6082),c=i(2197),p=i(2156);const d=function(e,t){return[e,"breedables",t]};function g(e,t){if(1&e&&(s.TgZ(0,"app-sub-navi-item",9),s.ALo(1,"slugify"),s._UZ(2,"app-item",7),s.ALo(3,"slugify"),s.qZA()),2&e){const e=t.$implicit,i=s.oxw(2);s.Q6J("link",s.WLB(8,d,"/"+i.spreadsheetId,s.lcZ(1,4,e.title)))("text",e.title)("meta",e.ownedEntries+"/"+(e.data?e.data.length:"???")),s.xp6(2),s.Q6J("slug",s.lcZ(3,6,e.title))}}const u=function(e){return[e,"breedables","overview"]};function f(e,t){if(1&e&&(s.TgZ(0,"ul",5),s.TgZ(1,"app-sub-navi-item",6),s._UZ(2,"app-item",7),s.qZA(),s.YNc(3,g,4,11,"app-sub-navi-item",8),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("link",s.VKq(4,u,"/"+e.spreadsheetId))("text","Overview"),s.xp6(1),s.Q6J("slug","master"),s.xp6(1),s.Q6J("ngForOf",e.worksheets)}}let h=(()=>{class e{constructor(e){this.spreadsheetFacade=e,this.isView=!0,this.spreadsheetData$=this.spreadsheetFacade.getCurrentSpreadsheet$()}ngOnInit(){this.spreadsheetData$.subscribe({next:e=>{this.spreadsheetId=e.username?"u/"+e.username:e.id,this.worksheets=e.worksheets.filter(e=>{var t;return"Breedables"===(null===(t=e.config)||void 0===t?void 0:t.type)})}})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.s))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-index"]],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("view",t.isView)},decls:8,vars:1,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],["class","sub-navi",4,"ngIf"],[1,"view-content"],[1,"sub-navi"],[3,"link","text"],["category","ball",3,"slug"],[3,"link","text","meta",4,"ngFor","ngForOf"],[3,"link","text","meta"]],template:function(e,t){1&e&&(s.TgZ(0,"header",0),s._uU(1,"breedables"),s.qZA(),s.TgZ(2,"div",1),s._UZ(3,"app-grid-controller"),s.qZA(),s.TgZ(4,"aside",2),s.YNc(5,f,4,6,"ul",3),s.qZA(),s.TgZ(6,"div",4),s._UZ(7,"router-outlet"),s.qZA()),2&e&&(s.xp6(5),s.Q6J("ngIf",t.worksheets))},directives:[o.V,n.O5,r.lC,l.H,c.P,n.sg],pipes:[p.N],styles:["@media screen and (max-width: 720px){.view-header[_ngcontent-%COMP%]{order:1}.view-addional-content[_ngcontent-%COMP%]{order:3}.view-sidebar[_ngcontent-%COMP%]{order:2}.view-content[_ngcontent-%COMP%]{order:4}}"]}),e})();var m=i(3342),v=i(3190),w=i(827),x=i(2021),b=i(3503),y=i(257);let k=(()=>{class e{transform(e){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"castBreedable",type:e,pure:!0}),e})();function Z(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"app-grid-item",4),s.ALo(2,"castBreedable"),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("pokemon",s.lcZ(2,1,e))}}function A(e,t){if(1&e&&(s.TgZ(0,"app-grid",2),s.YNc(1,Z,3,3,"ng-container",3),s.qZA()),2&e){const e=s.oxw().ngxAlias,t=s.oxw().ngxAlias,i=s.oxw();s.Q6J("appearance",t)("hideInactiveItems",!!e),s.xp6(1),s.Q6J("ngForOf",null==i.worksheet?null:i.worksheet.data)("ngForTrackBy",i.trackBy)}}function I(e,t){if(1&e&&(s.ynx(0),s.YNc(1,A,2,4,"app-grid",1),s.BQk()),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.worksheet)}}function O(e,t){if(1&e&&(s.ynx(0),s.YNc(1,I,2,1,"ng-container",0),s.ALo(2,"async"),s.BQk()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngxAlias",s.lcZ(2,1,e.hideItems$))}}let Q=(()=>{class e{constructor(e,t,i,n){this.spreadsheetFacade=e,this.route=t,this.slugifyPipe=i,this.gridService=n,this.subscriptions=[],this.gridService.updateHideAppearanceControl(!1),this.gridService.updateHideInactiveItemsControl(!1),this.gridAppearance$=this.gridService.getGridAppearance$(),this.hideItems$=this.gridService.getHideItems$()}ngOnInit(){this.route.paramMap.pipe((0,m.b)(e=>{var t;return this.worksheetTitle=null!==(t=e.get("worksheetTitle"))&&void 0!==t?t:""}),(0,v.w)(()=>this.spreadsheetFacade.getCurrentSpreadsheet$())).subscribe({next:e=>{var t;this.worksheet=null===(t=e.worksheets.filter(e=>this.slugifyPipe.transform(e.title)===this.worksheetTitle))||void 0===t?void 0:t[0]}})}trackBy(e,t){return t.id}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.s),s.Y36(r.gz),s.Y36(p.N),s.Y36(w.r))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-ball"]],decls:2,vars:3,consts:[[4,"ngxAlias"],[3,"appearance","hideInactiveItems",4,"ngIf"],[3,"appearance","hideInactiveItems"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"pokemon"]],template:function(e,t){1&e&&(s.YNc(0,O,3,3,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngxAlias",s.lcZ(1,1,t.gridAppearance$))},directives:[x.UR,n.O5,b.M,n.sg,y.b],pipes:[n.Ov,k],styles:[""]}),e})();var B=i(739),$=i(5917),J=i(3778),Y=i(2904),S=i(3845);function T(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"div",9),s.ALo(2,"slugify"),s._UZ(3,"app-item",10),s.ALo(4,"slugify"),s.qZA(),s.BQk()),2&e){const e=t.$implicit,i=s.oxw().$implicit,n=s.oxw(2).$implicit;s.xp6(1),s.ekj("active",null==n.entries[e.key][s.lcZ(2,5,i.pokemon)]?null:n.entries[e.key][s.lcZ(2,5,i.pokemon)].isOwned)("illegal",null===i[e.key]),s.xp6(2),s.Q6J("slug",s.lcZ(4,7,e.key))}}function F(e,t){if(1&e&&(s.TgZ(0,"div",5),s.TgZ(1,"div",6),s._UZ(2,"app-pokemon",7),s.ALo(3,"nameToSlug"),s._uU(4),s.qZA(),s.YNc(5,T,5,9,"ng-container",8),s.ALo(6,"keyvalue"),s.qZA()),2&e){const e=t.$implicit,i=s.oxw(2).$implicit;s.xp6(2),s.Q6J("slug",s.lcZ(3,3,e.pokemon)),s.xp6(2),s.hij(" ",e.pokemon,""),s.xp6(1),s.Q6J("ngForOf",s.lcZ(6,5,i.entries))}}function N(e,t){if(1&e&&(s.ynx(0),s.YNc(1,F,7,7,"div",4),s.BQk()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e.legality)}}function C(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"div",2),s.YNc(2,N,2,1,"ng-container",3),s.qZA(),s.BQk()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("ngIf",e)}}function q(e,t){1&e&&s._uU(0,"Loading")}const _=[{path:"",component:h,children:[{path:"overview",component:(()=>{class e{constructor(e,t,i){this.facade=e,this.db=t,this.gridService=i,this.gridService.updateHideAppearanceControl(!0),this.gridService.updateHideInactiveItemsControl(!0),this.data$=(0,B.aj)([this.db.getBreedableLegality(),this.facade.getCurrentSpreadsheet$()]).pipe((0,v.w)(e=>{var t;return(0,$.of)({legality:e[0],entries:null!==(t=e[1].overviewEntries)&&void 0!==t?t:{}})}))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.s),s.Y36(J.d),s.Y36(w.r))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-overview"]],decls:3,vars:2,consts:[[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny"],["loading",""],[1,"legality-table"],[4,"ngIf"],["class","legality-row d-flex",4,"ngFor","ngForOf"],[1,"legality-row","d-flex"],[1,"name","d-flex"],[3,"slug"],[4,"ngFor","ngForOf"],[1,"ball-col"],["category","ball",3,"slug"]],template:function(e,t){if(1&e&&(s.YNc(0,C,3,1,"ng-container",0),s.YNc(1,q,1,0,"ng-template",null,1,s.W1O)),2&e){const e=s.MAs(2);s.Q6J("ngxSubscribeOf",t.data$)("ngxSubscribeBeforeAny",e)}},directives:[x.eB,n.O5,n.sg,Y.J,c.P],pipes:[S.q,n.Nd,p.N],styles:[".legality-row{align-items:center;padding-right:10px;border-radius:5px;margin:8px 0}.legality-row .name{width:300px;align-items:center}.legality-row:nth-child(2n){background:#efefef}.legality-table{background:#fff;border-radius:12px;display:inline-block;padding:15px}.legality-table .ball-col .pokesprite{filter:grayscale(1) opacity(.3)}.legality-table .ball-col.active .pokesprite{filter:none}.legality-table .ball-col.illegal .pokesprite{filter:brightness(0) opacity(.3)}@media (prefers-color-scheme: dark){.legality-table{color:#fffc;background:#212121}.legality-row:nth-child(2n){background:#2f3232}}@media screen and (max-width: 720px){.legality-row{flex-wrap:wrap}.legality-row .name{width:100%}}\n"],encapsulation:2}),e})()},{path:":worksheetTitle",component:Q}]}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.Bz.forChild(_)],r.Bz]}),e})();var U=i(4466),M=i(3830),P=i(3679),j=i(7549);let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[p.N],imports:[[n.ez,L,U.m,M.z,x.lG,P.UX,j.Q]]}),e})()}}]);