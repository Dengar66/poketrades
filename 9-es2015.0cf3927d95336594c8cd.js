(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Bq4Z:function(e,t,r){"use strict";r.r(t),r.d(t,"SpreadsheetChangerModule",function(){return x});var s=r("ofXK"),n=r("tyNb"),i=r("3Pt+"),c=r("fXoL"),a=r("d3iT"),o=r("XJ2P"),d=r("NQo5");function b(e,t){if(1&e){const e=c.Qb();c.Pb(0,"li",11),c.Wb("click",function(){c.nc(e);const r=t.$implicit;return c.Yb().fromHistory(r.id)}),c.vc(1),c.Ob()}if(2&e){const e=t.$implicit;c.zb(1),c.xc(" ",e.title," ")}}function h(e,t){1&e&&(c.Pb(0,"div"),c.vc(1," Contains valuables. "),c.Ob())}function u(e,t){1&e&&(c.Pb(0,"div"),c.vc(1," Contains breedables. "),c.Ob())}function p(e,t){if(1&e){const e=c.Qb();c.Nb(0),c.Pb(1,"div",2),c.vc(2),c.Ob(),c.tc(3,h,2,0,"div",13),c.tc(4,u,2,0,"div",13),c.Pb(5,"div",14),c.Pb(6,"button",15),c.Wb("click",function(){c.nc(e);const t=c.Yb().$implicit;return c.Yb(2).saveSpreadsheet(t)}),c.vc(7,"Save as current spreadsheet"),c.Ob(),c.Ob(),c.Mb()}if(2&e){const e=c.Yb().$implicit;c.zb(2),c.wc(e.title),c.zb(1),c.ec("ngIf",e.hasValuables),c.zb(1),c.ec("ngIf",e.hasBreedables)}}function l(e,t){if(1&e&&(c.Nb(0),c.tc(1,p,8,3,"ng-container",13),c.Mb()),2&e){const e=t.$implicit;c.zb(1),c.ec("ngIf",e)}}function f(e,t){if(1&e&&(c.Nb(0),c.tc(1,l,2,1,"ng-container",12),c.Mb()),2&e){const e=c.Yb(),t=c.kc(17),r=c.kc(19);c.zb(1),c.ec("ngxSubscribeOf",e.loadedSpreadsheet$)("ngxSubscribeBeforeAny",t)("ngxSubscribeOnError",r)}}function g(e,t){1&e&&(c.Pb(0,"app-ball-guy-bubble"),c.vc(1," Enter a spreadsheet Id to load a spreadsheet "),c.Ob())}function v(e,t){1&e&&(c.Pb(0,"div"),c.vc(1," Load spreadsheet "),c.Ob())}function m(e,t){if(1&e&&c.tc(0,v,2,0,"div",13),2&e){const e=c.Yb();c.ec("ngIf",e.hasRequested)}}function w(e,t){1&e&&c.vc(0),2&e&&c.xc("Error: ",t.error.message,"")}const y=[{path:"",component:(()=>{class e{constructor(e){this.spreadsheetFacade=e,this.classes="view spreadsheet-changer-view",this.hasRequested=!1,this.searchForm=new i.e({search:new i.b("")}),this.isLoading$=this.spreadsheetFacade.isLoading$(),this.spreadsheetHistory$=this.spreadsheetFacade.getSpreadsheetHistory$()}submitSearch(){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.searchSpreadsheet(this.searchForm.controls.search.value)}saveSpreadsheet(e){this.spreadsheetFacade.updateCurrentSpreadsheet(e)}fromHistory(e){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.loadSpreadsheet(e)}trackBy(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(a.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-index"]],hostVars:2,hostBindings:function(e,t){2&e&&c.Bb(t.classes)},decls:20,vars:7,consts:[[1,"view-header","full-width"],[1,"view-sidebar"],[1,"view-subheader"],[3,"formGroup","submit"],["id","search","formControlName","search","placeholder","Look up spreadsheet by id"],["class","history-entry",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"view-content"],[4,"ngIf","ngIfElse"],["notRequestedYet",""],["pendingTemplate",""],["errorTemplate",""],[1,"history-entry",3,"click"],[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny","ngxSubscribeOnError"],[4,"ngIf"],[1,"button-row"],[1,"save-button",3,"click"]],template:function(e,t){if(1&e&&(c.Pb(0,"header",0),c.vc(1,"Change spreadsheet"),c.Ob(),c.Pb(2,"aside",1),c.Pb(3,"div",2),c.vc(4,"Spreadsheet search"),c.Ob(),c.Pb(5,"form",3),c.Wb("submit",function(){return t.submitSearch()}),c.Lb(6,"input",4),c.Ob(),c.Pb(7,"div",2),c.vc(8," search history "),c.Ob(),c.Pb(9,"ul"),c.tc(10,b,2,1,"li",5),c.Zb(11,"async"),c.Ob(),c.Ob(),c.Pb(12,"div",6),c.tc(13,f,2,3,"ng-container",7),c.Ob(),c.tc(14,g,2,0,"ng-template",null,8,c.uc),c.tc(16,m,1,1,"ng-template",null,9,c.uc),c.tc(18,w,1,1,"ng-template",null,10,c.uc)),2&e){const e=c.kc(15);c.zb(5),c.ec("formGroup",t.searchForm),c.zb(5),c.ec("ngForOf",c.ac(11,5,t.spreadsheetHistory$))("ngForTrackBy",t.trackBy),c.zb(3),c.ec("ngIf",t.loadedSpreadsheet$)("ngIfElse",e)}},directives:[i.m,i.j,i.f,i.a,i.i,i.d,s.k,s.l,o.f,d.a],pipes:[s.b],styles:["#search,.history-entry,.save-button{font-size:90%;font-weight:500;line-height:32px;color:#000;border-radius:42px;box-shadow:0 3px 5px rgba(0,0,0,.4);align-items:center;width:100%;overflow:hidden;border:none;outline:none;padding:0 8px;background:#fff}.history-entry{cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:16px}.save-button{cursor:pointer;width:auto}@media (prefers-color-scheme:dark){#search,.history-entry,.save-button{background:#21262d;color:#efe2e3}}@media screen and (max-width:720px){.spreadsheet-changer-view .view-sidebar{order:2}}"],encapsulation:2}),e})()}];let S=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(y)],n.f]}),e})();var O=r("PCNd");let x=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[s.c,S,i.l,o.e,O.a]]}),e})()}}]);